<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book-consultation</title>
    <link rel="stylesheet" href="/Palak/Admission_counselling/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;700&display=swap"
        rel="stylesheet">
        <link rel="stylesheet" href="/Palak/Admission_counselling/fixed.css" />
</head>

<body>
<nav class="navbar">
          <div class="navbar-left">
            <a href="/Palak/Home/home.html">
            <img src="/Palak/images/Home/study-befikar1.png" alt="Logo" class="logo">
            </a>
        
          </div>
          <ul class="navbar-right" id="mobileNav">

            <li><a href="/Palak/AboutUs/aboutUs.html" class="dropdown">About</a></li>

            <li class="dropdown">
              <a href="/Palak/USA/usa.html">Countries</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/USA/usa.html">USA</a></li>
                <li><a href="/Palak/USA/uk.html">UK</a></li>
                <li><a href="/Palak/USA/canada.html">Canada</a></li>
                <li><a href="/Palak/USA/australia.html">Australia</a></li>
                <li><a href="/Palak/USA/germany.html">Germany</a></li>
                <li><a href="/Palak/USA/Ireland.html">Ireland</a></li>
                <li><a href="/Palak/USA/France.html">France</a></li>
                <li><a href="/Palak/USA/newzealand.html">New Zealand</a></li>
                <li><a href="/Palak/USA/Singapore.html">Singapore</a></li>
                <li><a href="/Palak/USA/Japan.html">Japan</a></li>
                <li><a href="/Palak/USA/Dubai.html">Dubai</a></li>
                <li><a href="/Palak/USA/China.html">China</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Loan/loanHome.html">Loan</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Loan/loanHome.html">Check Eligibility</a></li>
                <li><a href="/Palak/Loan/bankdetail.html">Available Banks</a></li>
                <li><a href="/Palak/Loan/EmiCalc.html">EMI Calculator</a></li>
                 <li><a href="/Palak/Loan/InterestCalc.html">Interest Calculator</a></li>
                <li><a href="/Palak/Loan/refinancing.html">Loan Refinancing</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Admission_counselling/admit.html">Admission Counselling</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Admission_counselling/admit.html">Admission Process</a></li>
                <li><a href="/Palak/Admission_counselling/book-consultation.html">Book Consultation</a></li>
                <li><a href="/Palak/Admission_counselling/Application_Deadline.html">Application Deadline</a></li>
                <li><a href="/Palak/Admission_counselling/universityFinder/universityFinder.html">University Finder</a></li>
                <li><a href="/Palak/Admission_counselling/majorIntake/majorIntake.html">Major Intake</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Test_Prep/testprep.html">Test Preparation</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Test_Prep/testprep.html">Test Prep Services</a></li>
                <li><a href="/Palak/Test_Prep/testPreparationQuestionnaire/step1.html">Prepare for Exam</a></li>
                <li><a href="/Palak/Test_Prep/examprep.html">Take a Mock Test</a></li>
                <li><a href="/Palak/Test_Prep/Exam_Deadline.html">Exam Deadlines</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="#/Palak/All_Exams/sat.html">All Exams</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/All_Exams/sat.html">SAT</a></li>
                <li><a href="/Palak/All_Exams/GMAT.html">GMAT</a></li>
                <li><a href="/Palak/All_Exams/GRE.html">GRE</a></li>
                <li><a href="/Palak/All_Exams/IELTS.html">IELTS</a></li>
                <li><a href="/Palak/All_Exams/PTE.html">PTE</a></li>
                <li><a href="/Palak/All_Exams/ACT.html">ACT</a></li>
                <li><a href="/Palak/All_Exams/TOEFL.html">TOEFL</a></li>
                <li><a href="/Palak/All_Exams/Duolingo.html">Duolingo</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Services/Services.html">Services</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Services/Services.html">All Services</a></li>
                <li><a href="/Palak/Services/visaassist.html">Visa Assistance</a></li>
                <li><a href="/Palak/Admission_counselling/profileEvaluationQuestionnaire/stepOne.html">Profile Evaluation</a></li>
                <li><a href="#">Apply to University</a></li>
              </ul>
            </li>
        
            <li><a href="/Palak/NoticeBoard/noticeBoard.html" class="dropdown">Notice Board</a></li>
        
            <li><a href="/Palak/ContactUs/ContactUs.html" class="contact-btn">Contact Us</a></li>

          </ul>
          <button class="mobile-menu-btn" id="mobileMenuBtn">☰</button>
        </nav>
        <script>
          document.addEventListener("DOMContentLoaded", () => {
            /*  mobile hamburger toggle */
            const btn = document.getElementById("mobileMenuBtn");
            const nav = document.getElementById("mobileNav");

            btn.addEventListener("click", () => {
              nav.classList.toggle("active");
            });

            /* dropdown logic  */
            const dropdownLis = document.querySelectorAll(".navbar-right li.dropdown");

            dropdownLis.forEach(li => {
              let closeTimer;

              const openDropdown = () => {
                dropdownLis.forEach(d => d.classList.remove("open"));
                li.classList.add("open");
              };

              const scheduleClose = () => {
                closeTimer = setTimeout(() => li.classList.remove("open"), 3000);
              };

              const cancelClose = () => clearTimeout(closeTimer);

              // desktop hover
              li.addEventListener("mouseenter", () => {
                if (window.innerWidth >= 1024) {
                  cancelClose();
                  openDropdown();
                }
              });
              li.addEventListener("mouseleave", () => {
                if (window.innerWidth >= 1024) scheduleClose();
              });

              // mobile tap to toggle
              li.querySelector(":scope > a").addEventListener("click", e => {
                if (window.innerWidth < 1024) {
                  e.preventDefault();
                  li.classList.toggle("open");
                }
              });
            });

            // close dropdowns on outside click
            document.addEventListener("click", e => {
              if (![...dropdownLis].some(d => d.contains(e.target))) {
                dropdownLis.forEach(d => d.classList.remove("open"));
              }
            });

            /* highlight active link */
            const currentPath = window.location.pathname.split("/").pop();
            document.querySelectorAll(".navbar-right a").forEach(link => {
              const linkPath = link.getAttribute("href").split("/").pop();
              if (linkPath === currentPath) {
                link.classList.add("active");
                const parentDropdown = link.closest(".dropdown");
                if (parentDropdown) {
                  const parentLink = parentDropdown.querySelector(":scope > a");
                  if (parentLink) parentLink.classList.add("active");
                }
              }
            });
          });
        </script>


    <section class="hero book-consultation-hero">
        <div class="breadcrumb"><a href="/Palak/Home/home.html">Home</a> &gt;
            <a href="/Palak/Admission_counselling/admit.html">Admission Counselling</a> &gt;
            <span>Book Consultation</span>
        </div>

        <div class="hero-overlay">
            <div class="hero-left">
                <div class="glass-card">★ Trusted by 10,000+ Students</div>

                <h1 class="consultation-heading">
                    <span>Your Dream</span><br>
                    <span class="highlighted">University Awaits</span>
                </h1>

                <p class="consultation-subtext">
                    Get personalized guidance from our expert counselors and secure admission to top universities
                    worldwide.
                </p>

                <div class="stats-row">
                    <div class="stat-box">
                        <div class="stat-number">10,000+</div>
                        <div class="stat-label">Students</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">Countries</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="consultation-section">
        <div class="consultation-heading">
            <h2>Book Your Free Consultation</h2>
            <p>
                Take the first step towards your international education journey.<br> Fill out the form below to
                book a consultation with our experts.
            </p>
        </div>

        <!-- Step Loader -->
        <div class="step-loader">
            <div class="step active" id="step1">
                <div class="circle">1</div>
                <span class="step-label">Personal Information</span>
            </div>
            <div class="line"></div>
            <div class="step" id="step2">
                <div class="circle">2</div>
                <span class="step-label">Academic Information</span>
            </div>
            <div class="line"></div>
            <div class="step" id="step3">
                <div class="circle">3</div>
                <span class="step-label">Additional Information</span>
            </div>
        </div>

        <!-- Form Card -->
        <div class="consultation-form-card" id="formCard">
            <!-- Step 1: Personal Info -->
            <div class="form-header">Personal Information</div>
            <form id="consultationForm" class="consultation-form" action="/Palak/Admission_counselling/confirmation.html" method="GET">
                <div class="row">
                    <div class="form-group">
                        <label for="fullName">Full Name <span class="required">*</span></label>
                        <input type="text" id="fullName" placeholder="Enter your full name" />
                    </div>
                    <div class="form-group">
  <label for="phone">Phone Number <span class="required">*</span></label>
  <div class="phone-wrapper">
    <div class="cust-dropdown" id="countryCodeDropdown">
      <div class="dropdown-trigger">+91 ▾</div>
      <div class="dropdown-options">
        <div class="dropdown-option">+1 (USA)</div>
        <div class="dropdown-option">+44 (UK)</div>
        <div class="dropdown-option">+61 (Australia)</div>
        <div class="dropdown-option">+49 (Germany)</div>
        <div class="dropdown-option">+65 (Singapore)</div>
        <div class="dropdown-option">+81 (Japan)</div>
      </div>
      <input type="hidden" name="countryCode" value="+91" />
    </div>
    <input type="tel" id="phone" placeholder="Enter your phone number" />
  </div>
</div>

                </div>
                <div class="form-group full">
                    <label for="email">Email Address <span class="required">*</span></label>
                    <input type="email" id="email" placeholder="Enter your email address" />
                </div>

                <div class="form-group full gender-group">
                    <label>Gender <span class="required">*</span></label>
                    <div class="gender-options" role="radiogroup" aria-label="Gender">
                        <label class="gender-option">
                            <input type="radio" name="gender" value="male" required />
                            <span class="gender-pill">Male</span>
                        </label>
                
                        <label class="gender-option">
                            <input type="radio" name="gender" value="female" required />
                            <span class="gender-pill">Female</span>
                        </label>
                
                        <label class="gender-option">
                            <input type="radio" name="gender" value="other" required />
                            <span class="gender-pill">Other</span>
                        </label>
                    </div>
                </div>


                <!-- Step 2: Academic Info -->
                <div class="form-header academic-header hidden">Academic Information</div>

                <!-- ✅ Added class: academic-field -->
                <div class="degree-options hidden academic-field">
                    <label class="degree-label">Which degree do you want to pursue? <span class="required">*</span></label>
                    <div class="degree-cards" id="degreeCardGroup">
                        <label class="degree-card">
                            <input type="radio" name="degree" value="Bachelor" />
                            <img src="/Palak/Admission_counselling/Admission_Counselling_Images/degree.png" alt="Bachelor">
                            <p>Bachelor’s</p>
                        </label>
                        <label class="degree-card">
                            <input type="radio" name="degree" value="Master" />
                            <img src="/Palak/Admission_counselling/Admission_Counselling_Images/degree.png" alt="Master">
                            <p>Master’s</p>
                        </label>
                        <label class="degree-card">
                            <input type="radio" name="degree" value="MBA" />
                            <img src="/Palak/Admission_counselling/Admission_Counselling_Images/degree.png" alt="MBA">
                            <p>MBA</p>
                        </label>
                        <label class="degree-card">
                            <input type="radio" name="degree" value="PhD" />
                            <img src="/Palak/Admission_counselling/Admission_Counselling_Images/degree.png" alt="PhD">
                            <p>PhD</p>
                        </label>
                        <label class="degree-card">
                            <input type="radio" name="degree" value="Others" />
                            <img src="/Palak/Admission_counselling/Admission_Counselling_Images/degree.png" alt="Others">
                            <p>Others</p>
                        </label>
                    </div>
                </div>

                <!-- ✅ Added class: academic-field -->
                <div class="row hidden academic-field">
                    <!-- Planning Intake -->
                    <div class="form-group">
                        <label for="intake">Planning Intake <span class="required">*</span></label>
                        <div class="custo-dropdown" id="intakeDropdown">
                            <div class="dropdown-trigger">Select intake period ▾</div>
                            <div class="dropdown-options">
                                <div class="dropdown-option">Fall 2025</div>
                                <div class="dropdown-option">Spring 2026</div>
                                <div class="dropdown-option">Summer 2026</div>
                                <div class="dropdown-option">Fall 2026</div>
                                <div class="dropdown-option">Spring 2027</div>
                                <div class="dropdown-option">Summer 2027</div>
                                <div class="dropdown-option">Fall 2027</div>
                                <div class="dropdown-option">Spring 2028</div>
                                <div class="dropdown-option">Summer 2028</div>
                                <div class="dropdown-option">Fall 2028</div>
                                <div class="dropdown-option">Spring 2029</div>
                            </div>
                        </div>
                        <input type="hidden" name="intake" value="">
                    </div>
        
                    <!-- Preferred Country -->
                    <div class="form-group">
                        <label for="country">Preferred Country <span class="required">*</span></label>
                        <div class="custom-dropdown" id="countryDropdown">
                            <div class="dropdown-trigger">Select country ▾</div>
                            <div class="dropdown-options">
                                <div class="dropdown-option">USA</div>
                                <div class="dropdown-option">Canada</div>
                                <div class="dropdown-option">UK</div>
                                <div class="dropdown-option">New Zealand</div>
                                <div class="dropdown-option">Australia</div>
                                <div class="dropdown-option">Germany</div>
                                <div class="dropdown-option">Japan</div>
                                <div class="dropdown-option">Ireland</div>
                                <div class="dropdown-option">Dubai</div>    
                                 <div class="dropdown-option">Singapore</div>
                                 <div class="dropdown-option">Others</div>
                            </div>
                        </div>
                        <input type="hidden" name="country" value="">
                    </div>

                </div>

                <!-- ✅ Added class: academic-field -->
                <div class="form-group full hidden academic-field">
                 
                    <label for="course">Preferred Course/Subject <span class="required">*</span></label>
                    <input type="text" id="course"
                        placeholder="e.g Computer Science, Engineering, Business administration" />
                  
                </div>
 

                <!-- STEP 3: Additional Information -->
                <div class="form-header additional-header hidden">Additional Information</div>

                <div class="additional-field hidden additional-info">

                    <!-- Visa Rejection -->
                    <div class="form-group full">
                        <label for="visa">Any Visa Rejection in Past? <span class="required">*</span></label>
                        <div class="radio-group">
                            <label><input type="radio" name="visa" value="no"> No</label>
                            <label><input type="radio" name="visa" value="yes"> Yes</label>
                        </div>
                    </div>

                    <!-- Conditional Country Textbox -->
                    <div class="form-group full hidden" id="visaCountryGroup">
                        <input type="text" id="visaCountry" placeholder="Please enter the country" />
                    </div>

                    <!-- Exam Scores -->
                    <label for="examDropdown">Exam Scores (if any) <span class="required">*</span></label>
                    <div class="additional-dropdown" id="examDropdown">
                        <div class="dropdown-trigger">Select exam ▾</div>
                        <div class="dropdown-options">
                            <div class="dropdown-option">IELTS</div>
                            <div class="dropdown-option">TOEFL</div>
                            <div class="dropdown-option">GMAT</div>
                            <div class="dropdown-option">GRE</div>
                            <div class="dropdown-option">SAT</div>
                            <div class="dropdown-option">ACT</div>
                            <div class="dropdown-option">PTE</div>
                            <div class="dropdown-option">OTHER</div>
                            <div class="dropdown-option">Not applicable</div>
                        </div>
                    </div>
                    
                    <!-- Score Textbox -->
                    <div class="form-group full hidden" id="scoreField">
                        <input type="text" id="examScore" placeholder="Enter exam score" />
                    </div>

                    <!-- Interested In -->
                    <div class="form-group full">
                        <label>Interested In <span class="required">*</span></label>
                        <div class="radio-group interest-options">
    <label>
        <input type="checkbox" name="interest" value="Study Abroad Consultation">
        <span class="pill">Study Abroad Consultation</span>
    </label>
    <label>
        <input type="checkbox" name="interest" value="Education Loan Guidance">
        <span class="pill">Education Loan Guidance</span>
    </label>
    <label>
        <input type="checkbox" name="interest" value="Test Preparation">
        <span class="pill">Test Preparation</span>
    </label>
    <label>
        <input type="checkbox" name="interest" value="All of the Above">
        <span class="pill">All of the Above</span>
    </label>
</div>
                    </div>

                    <!-- Submit Button -->
                    <div class="button-wrapper">
                        <div class="form-group full">
                            <button type="submit" class="submit-btn book-btn">
                                Book Consultation <span class="arrow">→</span>
                            </button>


                        </div>
                    </div>

                </div>
    </section>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("consultationForm");

    // Inputs
    const fullName = document.getElementById("fullName");
    const phone = document.getElementById("phone");
    const email = document.getElementById("email");
    const course = document.getElementById("course");

    // Sections
    const academicFields = document.querySelectorAll(".academic-field, .academic-header");
    const additionalFields = document.querySelectorAll(".additional-field, .additional-header");

    const step2 = document.getElementById("step2");
    const step3 = document.getElementById("step3");

    const visaRadios = Array.from(document.getElementsByName("visa") || []);
    const visaCountryGroup = document.getElementById("visaCountryGroup");

    // COUNTRY CODE DROPDOWN
    const countryCodeDropdown = document.getElementById("countryCodeDropdown");
    const triggerCC = countryCodeDropdown.querySelector(".dropdown-trigger");
    const optionsCC = countryCodeDropdown.querySelectorAll(".dropdown-option");
    const hiddenCC = countryCodeDropdown.querySelector("input[type='hidden']");

    triggerCC.addEventListener("click", e => {
        e.stopPropagation();
        countryCodeDropdown.classList.toggle("active");
    });

    optionsCC.forEach(option => {
        option.addEventListener("click", () => {
            const code = option.textContent.split(" ")[0];
            triggerCC.textContent = code + " ▾";
            hiddenCC.value = code;
            countryCodeDropdown.classList.remove("active");
        });
    });

    // CLOSE DROPDOWN ON CLICK OUTSIDE
    document.addEventListener("click", () => {
        document.querySelectorAll(".cust-dropdown, .custo-dropdown, .custom-dropdown, .additional-dropdown")
            .forEach(drop => drop.classList.remove("active"));
    });

    // HELPER: Get or create error span
    function getErrorSpan(input) {
        let el = input.parentNode.querySelector(".error-msg");
        if (!el) {
            el = document.createElement("span");
            el.className = "error-msg";
            el.style.color = "red";
            el.style.fontSize = "0.8em";
            el.style.display = "block";
            input.parentNode.appendChild(el);
        }
        return el;
    }

    // STEP 1 VALIDATIONS
    function validateName(show = false) {
        const v = fullName.value.trim();
        const el = getErrorSpan(fullName);
        if (!v) { if (show) el.textContent = "Full name is required"; return false; }
        if (!/^[A-Za-z\s'-]+$/.test(v)) { if (show) el.textContent = "Name must contain only letters"; return false; }
        el.textContent = ""; return true;
    }

    function validatePhone(show = false) {
        const digits = phone.value.replace(/\D/g, "");
        const el = getErrorSpan(phone);
        if (digits.length !== 10) { if (show) el.textContent = "Enter a valid 10-digit phone number"; return false; }
        el.textContent = ""; return true;
    }

    function validateEmail(show = false) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        const el = getErrorSpan(email);
        if (!re.test(email.value.trim())) { if (show) el.textContent = "Enter a valid email"; return false; }
        el.textContent = ""; return true;
    }

    function validateGender(show = false) {
        const checked = document.querySelector('input[name="gender"]:checked');
        if (!checked && show) {
            const group = document.querySelector(".gender-group");
            let el = group.querySelector(".error-msg");
            if (!el) {
                el = document.createElement("span");
                el.className = "error-msg";
                el.style.color = "red";
                el.style.fontSize = "0.8em";
                group.appendChild(el);
            }
            el.textContent = "Please select gender";
        } else {
            const el = document.querySelector(".gender-group .error-msg");
            if (el) el.textContent = "";
        }
        return !!checked;
    }

    function validateStep1(show = false) {
        return validateName(show) && validatePhone(show) && validateEmail(show) && validateGender(show);
    }

    // STEP 2 VALIDATION
    function validateStep2() {
        const degree = document.querySelector('input[name="degree"]:checked');
        const intake = document.querySelector('input[name="intake"]').value.trim();
        const country = document.querySelector('input[name="country"]').value.trim();
        const courseVal = course.value.trim();
        return degree && intake && country && courseVal;
    }

    // STEP 3 VALIDATION
    function validateStep3(show = false) {
        let valid = true;

        // Visa selection
        const visaChecked = document.querySelector('input[name="visa"]:checked');
        if (!visaChecked) {
            valid = false;
            if (show) {
                const group = document.querySelector('.additional-field .radio-group');
                let el = group.querySelector('.error-msg');
                if (!el) {
                    el = document.createElement('span');
                    el.className = 'error-msg';
                    el.style.color = 'red';
                    el.style.fontSize = '0.8em';
                    group.appendChild(el);
                }
                el.textContent = 'Please select visa option';
            }
        } else {
            const el = document.querySelector('.additional-field .radio-group .error-msg');
            if (el) el.textContent = '';
        }

        if (visaChecked?.value === 'yes') {
            const visaCountry = document.getElementById('visaCountry');
            if (!visaCountry.value.trim()) {
                valid = false;
                if (show) getErrorSpan(visaCountry).textContent = 'Please enter country';
            } else {
                getErrorSpan(visaCountry).textContent = '';
            }
        }

        // Interests
        const interests = document.querySelectorAll('input[name="interest"]:checked');
        if (!interests.length) {
            valid = false;
            if (show) {
                const group = document.querySelector('.interest-options');
                let el = group.querySelector('.error-msg');
                if (!el) {
                    el = document.createElement('span');
                    el.className = 'error-msg';
                    el.style.color = 'red';
                    el.style.fontSize = '0.8em';
                    group.appendChild(el);
                }
                el.textContent = 'Please select at least one interest';
            }
        } else {
            const el = document.querySelector('.interest-options .error-msg');
            if (el) el.textContent = '';
        }

        return valid;
    }

    // REVEAL NEXT STEPS
    function revealNextSteps() {
        if (validateStep1(true)) {
            academicFields.forEach(el => el.classList.remove("hidden"));
            step2.classList.add("active");
        } else {
            step2.classList.remove("active");
            step3.classList.remove("active");
            academicFields.forEach(el => el.classList.add("hidden"));
            additionalFields.forEach(el => el.classList.add("hidden"));
            return;
        }
        if (validateStep2()) {
            additionalFields.forEach(el => el.classList.remove("hidden"));
            step3.classList.add("active");
        } else {
            additionalFields.forEach(el => el.classList.add("hidden"));
            step3.classList.remove("active");
        }
    }

    // STEP 1 LISTENERS
    [fullName, phone, email].forEach(inp => {
        inp.addEventListener("input", () => { validateStep1(true); revealNextSteps(); });
        inp.addEventListener("blur", () => { validateStep1(true); revealNextSteps(); });
    });

    document.querySelectorAll('input[name="gender"]').forEach(radio => {
        radio.addEventListener("change", () => { validateStep1(true); revealNextSteps(); });
    });

    // DEGREE SELECTION
    document.querySelectorAll(".degree-card").forEach(card => {
        card.addEventListener("click", () => {
            document.querySelectorAll(".degree-card").forEach(c => c.classList.remove("active"));
            card.classList.add("active");
            card.querySelector("input").checked = true;
            revealNextSteps();
        });
    });

    // STEP 2 INPUT LISTENERS
    document.querySelectorAll('input[name="degree"], input[name="intake"], input[name="country"], #course')
        .forEach(inp => {
            inp.addEventListener("input", revealNextSteps);
            inp.addEventListener("change", revealNextSteps);
        });

    // VISA TOGGLE
    visaRadios.forEach(r => r.addEventListener("change", () => {
        visaCountryGroup.classList.toggle("hidden", r.value !== "yes");
    }));

    // GENERIC DROPDOWN FUNCTION
    function setupDropdown(dropdown, hiddenInput = null, callback = null) {
        const trigger = dropdown.querySelector(".dropdown-trigger");
        const options = dropdown.querySelectorAll(".dropdown-options .dropdown-option");

        trigger.addEventListener("click", e => {
            e.stopPropagation();
            document.querySelectorAll(".cust-dropdown, .custo-dropdown, .custom-dropdown, .additional-dropdown")
                .forEach(d => { if (d !== dropdown) d.classList.remove("active"); });
            dropdown.classList.toggle("active");
        });

        options.forEach(option => {
            option.addEventListener("click", () => {
                const text = option.textContent.trim();
                trigger.textContent = text + " ▾";
                dropdown.classList.remove("active");
                if (hiddenInput) hiddenInput.value = text;
                if (callback) callback(text);
                revealNextSteps();
            });
        });
    }

    // SETUP STEP 2 DROPDOWNS
    const intakeDropdown = document.getElementById("intakeDropdown");
    setupDropdown(intakeDropdown, intakeDropdown.nextElementSibling);

    const countryDropdown = document.getElementById("countryDropdown");
    setupDropdown(countryDropdown, countryDropdown.nextElementSibling);

    // SETUP EXAM DROPDOWN (STEP 3)
    const examDropdown = document.getElementById("examDropdown");
    const scoreField = document.getElementById("scoreField");

    setupDropdown(examDropdown, null, (text) => {
        let customExamField = document.getElementById("customExamField");
        if (!customExamField) {
            customExamField = document.createElement("div");
            customExamField.className = "form-group full hidden";
            customExamField.id = "customExamField";
            customExamField.innerHTML = `<input type="text" id="customExam" placeholder="Enter exam name" />`;
            scoreField.parentNode.insertBefore(customExamField, scoreField);
        }

        const customExamInput = customExamField.querySelector("#customExam");

        if (text === "Not applicable") {
            customExamField.classList.add("hidden");
            scoreField.classList.add("hidden");
            customExamInput.value = "";
        } else if (text === "OTHER") {
            customExamField.classList.remove("hidden");
            customExamInput.removeAttribute("readonly");
            customExamInput.value = "";
            scoreField.classList.add("hidden");
            customExamInput.addEventListener("input", () => {
                scoreField.classList.toggle("hidden", !customExamInput.value.trim());
            });
        } else {
            customExamField.classList.remove("hidden");
            customExamInput.value = text;
            customExamInput.setAttribute("readonly", true);
            scoreField.classList.remove("hidden");
        }
    });

    // FORM SUBMIT
    form.addEventListener("submit", e => {
        e.preventDefault();
        if (!validateStep1(true) || !validateStep2() || !validateStep3(true)) {
            revealNextSteps();
            alert("Please complete all required fields before submitting.");
            return;
        }

        const selectedInterests = Array.from(document.querySelectorAll('input[name="interest"]:checked')).map(el => el.value);

        const formData = {
            fullName: fullName.value,
            phone: phone.value,
            email: email.value,
            gender: document.querySelector('input[name="gender"]:checked')?.value,
            degree: document.querySelector('input[name="degree"]:checked')?.value,
            intake: document.querySelector('input[name="intake"]').value,
            country: document.querySelector('input[name="country"]').value,
            course: course.value,
            visa: document.querySelector('input[name="visa"]:checked')?.value,
            visaCountry: document.getElementById("visaCountry")?.value,
            exam: document.getElementById("customExam")?.value,
            examScore: document.getElementById("examScore")?.value,
            interest: selectedInterests.join(", ")
        };

        localStorage.setItem("consultationData", JSON.stringify(formData));
        window.location.href = "/Palak/Admission_counselling/confirmation.html";
    });

    revealNextSteps();
});
</script>

<footer class="footer">
        <div class="footer-container">
            <!-- column 1: logo + about + social  -->
            <div class="footer-col footer-about">
                <img src="/Palak/images/Home/footer/logo2.png" alt="StudyBefikar Logo" class="footer-logo">
                <p>Your trusted partner for international education counseling since 2010. We've helped over 10,000 students
                    achieve their academic dreams abroad.</p>
                <div class="footer-socials">
                    <a href="#"><img src="/Palak/images/Home/footer/9.png" alt="Instagram"></a>
                    <a href="#"><img src="/Palak/images/Home/footer/10.png" alt="Facebook"></a>
                    <a href="#"><img src="/Palak/images/Home/footer/11.png" alt="LinkedIn"></a>
                    <a href="#"><img src="/Palak/images/Home/footer/12.png" alt="X"></a>
                </div>
            </div>
            <div class="footer-right-columns">
    
            <!-- column 2: services -->
            <div class="footer-col">
                <h4>Our Services</h4>
                <ul>
                    <li><a href="/Palak/Admission_counselling/admit.html">Admission Counselling</a></li>
                    <li><a href="#">University Selection</a></li>
                    <li><a href="#">Visa Processing</a></li>
                    <li><a href="#">Scholarship Assistance</a></li>
                    <li><a href="/Palak/Loan/loanHome.html">Education Loans</a></li>
                    <li><a href="/Palak/Test_Prep/testPreparationQuestionnaire/step1.html">Test Preparation</a></li>
                    <li><a href="/Palak/Admission_counselling/profileEvaluationQuestionnaire/stepOne.html">Profile Evaluation</a></li>
                    <li><a href="#">Application Assistance</a></li>
                    <li><a href="#">University Shortlisting</a></li>
                </ul>
            </div>
    
            <!-- column 3-->
            <div class="footer-col">
                <h4>Study Destinations</h4>
                <ul>
                    <li><a href="/Palak/USA/usa.html">USA</a></li>
                <li><a href="/Palak/USA/uk.html">UK</a></li>
                <li><a href="/Palak/USA/canada.html">Canada</a></li>
                <li><a href="/Palak/USA/australia.html">Australia</a></li>
                <li><a href="/Palak/USA/germany.html">Germany</a></li>
                <li><a href="/Palak/USA/Ireland.html">Ireland</a></li>
                <li><a href="/Palak/USA/France.html">France</a></li>
                <li><a href="/Palak/USA/newzealand.html">New Zealand</a></li>
                <li><a href="/Palak/USA/Singapore.html">Singapore</a></li>
                <li><a href="/Palak/USA/Japan.html">Japan</a></li>
                <li><a href="/Palak/USA/Dubai.html">Dubai</a></li>
                <li><a href="/Palak/USA/China.html">China</a></li>
                </ul>
            </div>
    
            <!-- column 4: contact -->
            <div class="footer-col contact-col">
                <h4>Contact Us</h4>
                <p>Dropbox@studybefikar.com</p>
                <p>+91 74259 34504</p>
                <p>+1 (555) 123-4567</p>
    
                <h4>Office Hours</h4>
                <p>Mon - Fri: 9:00 AM - 6:00 PM</p>
                <p>Sat: 10:00 AM - 4:00 PM</p>

                <h4>More Details</h4>
                <p>Vendor Login</p>
                <p>T&C</p>
            </div>
            
        </div>
        </div>
    
        <hr class="footer-line" />
        <p class="footer-bottom">
            © 2025 StudyBefikar. All rights reserved. | Privacy Policy | Terms of Service
        </p>
    </footer>
</body>

</html>