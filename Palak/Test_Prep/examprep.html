<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prepare for Exams</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;700&display=swap"
        rel="stylesheet">
        <link rel="stylesheet" href="/Palak/Admission_counselling/fixed.css" />  
        <link rel="stylesheet" href="/Palak/Test_Prep/examprep.css" />
</head>

<body>
  <!--NavBar Section-->
<nav class="navbar">
          <div class="navbar-left">
            <a href="/Palak/Home/home.html">
            <img src="/Palak/images/Home/study-befikar1.png" alt="Logo" class="logo">
            </a>
        
          </div>
          <ul class="navbar-right" id="mobileNav">

            <li><a href="/Palak/AboutUs/aboutUs.html" class="dropdown">About</a></li>

            <li class="dropdown">
              <a href="/Palak/USA/usa.html">Countries</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/USA/usa.html">USA</a></li>
                <li><a href="/Palak/USA/uk.html">UK</a></li>
                <li><a href="/Palak/USA/canada.html">Canada</a></li>
                <li><a href="/Palak/USA/australia.html">Australia</a></li>
                <li><a href="/Palak/USA/germany.html">Germany</a></li>
                <li><a href="/Palak/USA/Ireland.html">Ireland</a></li>
                <li><a href="/Palak/USA/France.html">France</a></li>
                <li><a href="/Palak/USA/newzealand.html">New Zealand</a></li>
                <li><a href="/Palak/USA/Singapore.html">Singapore</a></li>
                <li><a href="/Palak/USA/Japan.html">Japan</a></li>
                <li><a href="/Palak/USA/Dubai.html">Dubai</a></li>
                <li><a href="/Palak/USA/China.html">China</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Loan/loanHome.html">Loan</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Loan/loanHome.html">Check Eligibility</a></li>
                <li><a href="/Palak/Loan/bankdetail.html">Available Banks</a></li>
                <li><a href="/Palak/Loan/EmiCalc.html">EMI Calculator</a></li>
                 <li><a href="/Palak/Loan/InterestCalc.html">Interest Calculator</a></li>
                <li><a href="/Palak/Loan/refinancing.html">Loan Refinancing</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Admission_counselling/admit.html">Admission Counselling</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Admission_counselling/admit.html">Admission Process</a></li>
                <li><a href="/Palak/Admission_counselling/book-consultation.html">Book Consultation</a></li>
                <li><a href="/Palak/Admission_counselling/Application_Deadline.html">Application Deadline</a></li>
                <li><a href="/Palak/Admission_counselling/universityFinder/universityFinder.html">University Finder</a></li>
                <li><a href="/Palak/Admission_counselling/majorIntake/majorIntake.html">Major Intake</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Test_Prep/testprep.html">Test Preparation</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Test_Prep/testprep.html">Test Prep Services</a></li>
                <li><a href="/Palak/Test_Prep/testPreparationQuestionnaire/step1.html">Prepare for Exam</a></li>
                <li><a href="/Palak/Test_Prep/examprep.html">Take a Mock Test</a></li>
                <li><a href="/Palak/Test_Prep/Exam_Deadline.html">Exam Deadlines</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="#/Palak/All_Exams/sat.html">All Exams</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/All_Exams/sat.html">SAT</a></li>
                <li><a href="/Palak/All_Exams/GMAT.html">GMAT</a></li>
                <li><a href="/Palak/All_Exams/GRE.html">GRE</a></li>
                <li><a href="/Palak/All_Exams/IELTS.html">IELTS</a></li>
                <li><a href="/Palak/All_Exams/PTE.html">PTE</a></li>
                <li><a href="/Palak/All_Exams/ACT.html">ACT</a></li>
                <li><a href="/Palak/All_Exams/TOEFL.html">TOEFL</a></li>
                <li><a href="/Palak/All_Exams/Duolingo.html">Duolingo</a></li>
              </ul>
            </li>
        
            <li class="dropdown">
              <a href="/Palak/Services/Services.html">Services</a>
              <ul class="dropdown-content">
                <li><a href="/Palak/Services/Services.html">All Services</a></li>
                <li><a href="/Palak/Services/visaassist.html">Visa Assistance</a></li>
                <li><a href="/Palak/Admission_counselling/profileEvaluationQuestionnaire/stepOne.html">Profile Evaluation</a></li>
                <li><a href="#">Apply to University</a></li>
              </ul>
            </li>
        
            <li><a href="/Palak/NoticeBoard/noticeBoard.html" class="dropdown">Notice Board</a></li>
        
            <li><a href="/Palak/ContactUs/ContactUs.html" class="contact-btn">Contact Us</a></li>

          </ul>
          <button class="mobile-menu-btn" id="mobileMenuBtn">☰</button>
        </nav>

        <script>
          document.addEventListener("DOMContentLoaded", () => {
            /*  mobile hamburger toggle */
            const btn = document.getElementById("mobileMenuBtn");
            const nav = document.getElementById("mobileNav");

            btn.addEventListener("click", () => {
              nav.classList.toggle("active");
            });

            /* dropdown logic  */
            const dropdownLis = document.querySelectorAll(".navbar-right li.dropdown");

            dropdownLis.forEach(li => {
              let closeTimer;

              const openDropdown = () => {
                dropdownLis.forEach(d => d.classList.remove("open"));
                li.classList.add("open");
              };

              const scheduleClose = () => {
                closeTimer = setTimeout(() => li.classList.remove("open"), 3000);
              };

              const cancelClose = () => clearTimeout(closeTimer);

              // desktop hover
              li.addEventListener("mouseenter", () => {
                if (window.innerWidth >= 1024) {
                  cancelClose();
                  openDropdown();
                }
              });
              li.addEventListener("mouseleave", () => {
                if (window.innerWidth >= 1024) scheduleClose();
              });

              // mobile tap to toggle
              li.querySelector(":scope > a").addEventListener("click", e => {
                if (window.innerWidth < 1024) {
                  e.preventDefault();
                  li.classList.toggle("open");
                }
              });
            });

            // close dropdowns on outside click
            document.addEventListener("click", e => {
              if (![...dropdownLis].some(d => d.contains(e.target))) {
                dropdownLis.forEach(d => d.classList.remove("open"));
              }
            });

            /* highlight active link */
            const currentPath = window.location.pathname.split("/").pop();
            document.querySelectorAll(".navbar-right a").forEach(link => {
              const linkPath = link.getAttribute("href").split("/").pop();
              if (linkPath === currentPath) {
                link.classList.add("active");
                const parentDropdown = link.closest(".dropdown");
                if (parentDropdown) {
                  const parentLink = parentDropdown.querySelector(":scope > a");
                  if (parentLink) parentLink.classList.add("active");
                }
              }
            });
          });
        </script>

    <section class="hero book-consultation-hero">
        <div class="breadcrumb"><a href="/Palak/Home/home.html">Home</a> &gt;
            <a href="/Palak/Test_Prep/testprep.html">Test preparation</a> &gt;
            <span>Take A Mock Test</span>
        </div>

        <div class="hero-overlay">
            <div class="hero-left">
                <div class="glass-card">★ Trusted by 10,000+ Students</div>

                <h1 class="consultation-heading">
                    <span>Master Your</span><br>
                    <span class="highlighted">Mock Tests</span>
                </h1>

                <p class="consultation-subtext">
                    Prepare with confidence using our comprehensive mock test platform. Practice with real exam formats, get detailed
                    analytics, and boost your scores.
                </p>

                <div class="stats-row">
                    <div class="stat-box">
                        <div class="stat-number">10,000+</div>
                        <div class="stat-label">Students</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">Countries</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

<section class="consultation-section">
    <div class="consultation-heading">
        <h2>Select Your Mock Test</h2>
        <p>
            Choose your exam type, education level, and preferred date to begin your comprehensive mock test preparation
            journey.
        </p>
    </div>

    <!-- Step Loader -->
    <div class="step-loader">
        <div class="step active" id="step1">
            <div class="circle">1</div>
            <span class="step-label">Education Level</span>
        </div>
        <div class="line"></div>
        <div class="step" id="step2">
            <div class="circle">2</div>
            <span class="step-label">Exam Type</span>
        </div>
        <div class="line"></div>
        <div class="step" id="step3">
            <div class="circle">3</div>
            <span class="step-label">Exam Date</span>
        </div>
    </div>

    <!-- Form Card -->
    <div class="consultation-form-card" id="formCard">
        <form class="consultation-form" id="consultationForm" action="confirmation.html" method="POST">
            <!-- Hidden inputs for submission -->
            <input type="hidden" name="intake" id="intake">
            <input type="hidden" name="country" id="country">
            <input type="hidden" name="exam" id="exam">

            <!-- Step 1 -->
            <div class="form-header">Education Level</div>
            <div class="row">
                <div class="form-group full">
                    <label>Choose Your Current Academic Level <span class="required">*</span></label>
                    <div class="custom-dropdown" id="intakeDropdown">
                        <div class="dropdown-trigger">Select Education Level ▾</div>
                        <div class="dropdown-options">
                            <div class="dropdown-option">Bachelors</div>
                            <div class="dropdown-option">Masters</div>
                            <div class="dropdown-option">Diploma</div>
                            <div class="dropdown-option">Higher Secondary</div>
                            <div class="dropdown-option">Others</div>
                        </div>
                    </div>
                <!-- Add this directly after #intakeDropdown -->
                <div id="otherInputGroup" style="display:none; margin-top:12px;">
                    <label for="otherInput"
                        style="display:block; font-family: 'Plus Jakarta Sans'; font-weight:600; margin-bottom:6px;">
                        Current academic level
                    </label>
                    <input id="otherInput" name="other_intake" type="text" placeholder="Please enter your current academic level"
                        style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; font-family: 'Plus Jakarta Sans';" />
                </div>


                </div>
            </div>

            <!-- Step 2 -->
            <div class="form-header academic-header hidden">Exam Type</div>
            <div class="row hidden academic-field">
                <div class="form-group full">
                    <label>Choose your exam type <span class="required">*</span></label>
                    <div class="custom-dropdown" id="countryDropdown">
                        <div class="dropdown-trigger">
                            Select the standardized test you want to prepare for ▾
                        </div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-exam="IELTS">IELTS</div>
                            <div class="dropdown-option" data-exam="TOEFL">TOEFL</div>
                            <div class="dropdown-option" data-exam="GMAT">GMAT</div>
                            <div class="dropdown-option" data-exam="GRE">GRE</div>
                            <div class="dropdown-option" data-exam="SAT">SAT</div>
                            <div class="dropdown-option" data-exam="ACT">ACT</div>
                            <div class="dropdown-option" data-exam="PTE">PTE</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Exam Description Box -->
            <div id="exam-description" class="exam-description hidden"></div>


            <!-- Step 3 -->
            <div class="form-header additional-header hidden">Exam Date</div>
            <div class="additional-field hidden additional-info">
                <!-- Date & Time (DTP) -->
                <div class="dtp-field">
                    <label class="dtp-label">Choose Your Preferred Exam Date <span class="required">*</span></label>
                
                    <div class="dtp-dropdown" id="dtpDropdown">
                        <button type="button" class="dtp-trigger" id="dtpTrigger">mm/dd/yy — select ▾</button>
                
                        <!-- Hidden fields that submit with your form -->
                        <input type="hidden" name="exam_date" id="dtpHiddenDate">
                        <input type="hidden" name="exam_time" id="dtpHiddenTime">
                
                        <!-- The Card -->
                        <div class="dtp-card" id="dtpCard" aria-hidden="true">
                            <!-- Left: Calendar -->
                            <div class="dtp-left">
                                <h3 class="dtp-title">Select a Date &amp; Time</h3>
                
                                <div class="dtp-cal">
                                    <div class="dtp-cal-header">
                                        <button type="button" class="dtp-nav" id="dtpPrev" aria-label="Previous month">‹</button>
                                        <div class="dtp-month" id="dtpMonth">—</div>
                                        <button type="button" class="dtp-nav" id="dtpNext" aria-label="Next month">›</button>
                                    </div>
                
                                    <div class="dtp-weekdays">
                                        <div>MON</div>
                                        <div>TUE</div>
                                        <div>WED</div>
                                        <div>THU</div>
                                        <div>FRI</div>
                                        <div>SAT</div>
                                        <div>SUN</div>
                                    </div>
                
                                    <div class="dtp-days" id="dtpDays"></div>
                
                                    <div class="dtp-cal-footer">
                                        <button type="button" class="dtp-secondary" id="dtpClear">Clear</button>
                                        <button type="button" class="dtp-secondary" id="dtpToday">Today</button>
                                    </div>
                                </div>
                            </div>
                
                            <!-- Right: Time -->
                            <div class="dtp-right">
                                <div class="dtp-timebar">
                                    <div class="dtp-selected" id="dtpSelectedDate">No date selected</div>
                
                                    <div class="dtp-toggle">
                                        <label class="dtp-toggle-item">
                                            <input type="radio" name="dtpFormat" value="12" checked>
                                            <span>12h</span>
                                        </label>
                                        <label class="dtp-toggle-item">
                                            <input type="radio" name="dtpFormat" value="24">
                                            <span>24h</span>
                                        </label>
                                    </div>
                                </div>
                
                                <div class="dtp-times" id="dtpTimes"><!-- time buttons render here --></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Submit Button (part of form) -->
                <div class="button-wrapper">
                    <div class="form-group full">
                        <button type="submit" class="book-btn">
                            Schedule Mock Test <span class="arrow">→</span>
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>



<script>
    document.addEventListener("DOMContentLoaded", () => {
        // Hidden inputs used to control step reveal / form submission
        const intakeHidden = document.getElementById("intake");      // existing hidden input
        const countryHidden = document.getElementById("country");    // existing hidden input
        const examHidden = document.getElementById("exam");          // existing hidden input

        // Elements for "Others" behaviour (must match HTML snippet above)
        const otherGroup = document.getElementById("otherInputGroup");
        const otherInput = document.getElementById("otherInput");

        // Step UI
        const step2 = document.getElementById("step2");
        const step3 = document.getElementById("step3");
        const academicFields = document.querySelectorAll(".academic-field, .academic-header");
        const additionalFields = document.querySelectorAll(".additional-field, .additional-header");

        // Safety: if any required element is missing, log and exit gracefully
        if (!intakeHidden) console.warn("Missing #intake hidden input.");
        if (!countryHidden) console.warn("Missing #country hidden input.");
        if (!examHidden) console.warn("Missing #exam hidden input.");

        // Generic dropdown handling — works for intakeDropdown, countryDropdown, examDropdown etc.
        document.querySelectorAll(".custom-dropdown, .additional-dropdown").forEach(dropdown => {
            const trigger = dropdown.querySelector(".dropdown-trigger");
            const options = Array.from(dropdown.querySelectorAll(".dropdown-option"));

            if (!trigger) return;

            // Toggle dropdown open/close
            trigger.addEventListener("click", (e) => {
                e.stopPropagation();
                // close other dropdowns
                document.querySelectorAll(".custom-dropdown.active, .additional-dropdown.active").forEach(d => {
                    if (d !== dropdown) d.classList.remove("active");
                });
                dropdown.classList.toggle("active");
            });

            // clicking an option
            options.forEach(option => {
                option.addEventListener("click", (ev) => {
                    ev.preventDefault();
                    ev.stopPropagation();

                    const text = option.textContent.trim();
                    trigger.textContent = text + " ▾";
                    dropdown.classList.remove("active");

                    // Specific handling for intake dropdown
                    if (dropdown.id === "intakeDropdown") {
                        if (text.toLowerCase() === "others" || text.toLowerCase() === "other") {
                            // Show the "Other" text input and don't set the hidden intake to "Others"
                            if (otherGroup) otherGroup.style.display = "block";
                            if (otherInput) {
                                otherInput.focus();
                                // clear hidden until user types
                                if (intakeHidden) intakeHidden.value = "";
                            }
                        } else {
                            // Normal option selected
                            if (otherGroup) otherGroup.style.display = "none";
                            if (otherInput) otherInput.value = "";
                            if (intakeHidden) intakeHidden.value = text;
                        }
                    }
                    // For country/exam dropdowns set hidden fields
                    else if (dropdown.id === "countryDropdown") {
                        if (countryHidden) countryHidden.value = text;
                    } else if (dropdown.id === "examDropdown") {
                        if (examHidden) examHidden.value = text;
                    } else if (dropdown.classList.contains('additional-dropdown')) {
                        // If you have other additional dropdowns you can map them here as needed
                    }

                    // After any selection, try to reveal next steps
                    revealNextSteps();
                });
            });
        });

        // clicking outside closes all dropdowns
        document.addEventListener("click", () => {
            document.querySelectorAll(".custom-dropdown.active, .additional-dropdown.active").forEach(d => d.classList.remove("active"));
        });

        // When user types into the "other" textbox, update hidden value & attempt reveal
        if (otherInput) {
            otherInput.addEventListener("input", () => {
                const val = otherInput.value.trim();
                if (intakeHidden) intakeHidden.value = val; // set hidden input to typed value
                revealNextSteps();
            });
        }

        // Reveal/hide step 2 and step 3 based on filled hidden fields
        function revealNextSteps() {
            const intakeVal = (intakeHidden && intakeHidden.value) ? intakeHidden.value.trim() : "";
            const countryVal = (countryHidden && countryHidden.value) ? countryHidden.value.trim() : "";

            const intakeChosen = intakeVal !== "";
            const countryChosen = countryVal !== "";

            if (intakeChosen) {
                // show step 2 elements
                academicFields.forEach(el => el.classList.remove("hidden"));
                if (step2) step2.classList.add("active");

                if (countryChosen) {
                    if (step3) step3.classList.add("active");
                    additionalFields.forEach(el => el.classList.remove("hidden"));
                } else {
                    if (step3) step3.classList.remove("active");
                    additionalFields.forEach(el => el.classList.add("hidden"));
                }
            } else {
                // hide everything until intake filled
                academicFields.forEach(el => el.classList.add("hidden"));
                additionalFields.forEach(el => el.classList.add("hidden"));
                if (step2) step2.classList.remove("active");
                if (step3) step3.classList.remove("active");
            }
        }

        // initial check (in case values were prefilled)
        revealNextSteps();
    });
</script>


<script>
    const dropdownOptions = document.querySelectorAll(".dropdown-option");
        const examDescription = document.getElementById("exam-description");
        const examDetails = {
            SAT: [
                "Needed for undergraduate (bachelor’s) admission, especially in the USA.",
                "Covers Math, Reading, and Writing.",
                "Scored between 400–1600.",
                "Many US universities use it to compare applicants from different countries."
            ],
            IELTS: [
                "Widely accepted for studying, working, and migrating abroad.",
                "Tests Listening, Reading, Writing, and Speaking.",
                "Scored on a band scale of 0–9.",
                "Accepted by over 11,000 institutions worldwide."
            ],
            TOEFL: [
                "Mostly required by US and Canadian universities.",
                "Tests Reading, Listening, Speaking, and Writing.",
                "Scored between 0–120.",
                "Computer-based test available worldwide."
            ],
            GMAT: [
                "Required for MBA admissions globally.",
                "Tests Analytical Writing, Quant, Verbal, and Integrated Reasoning.",
                "Scored between 200–800.",
                "Accepted by top business schools."
            ],
            GRE: [
                "Required for master’s and PhD programs worldwide.",
                "Tests Verbal, Quant, and Analytical Writing.",
                "Scored between 260–340.",
                "Used for both STEM and non-STEM courses."
            ],
            ACT: [
                "Alternative to SAT, used for undergraduate admissions.",
                "Tests English, Math, Reading, Science, and optional Writing.",
                "Scored between 1–36.",
                "Preferred by many US universities."
            ],
            PTE: [
                "Computer-based English test for study and migration.",
                "Tests Speaking, Writing, Reading, and Listening.",
                "Scored on a scale of 10–90.",
                "Accepted in Australia, New Zealand, UK, and other countries."
            ]
        };

        dropdownOptions.forEach(option => {
                option.addEventListener("click", () => {
                    const exam = option.dataset.exam;

                    if (examDetails[exam]) {
                        examDescription.innerHTML = examDetails[exam]
                            .map(point => `
          <div class="point">
            <img src="/Palak/Test_Prep/Test_Prep_Images/tick-icon.png" alt="tick" />
            <span>${point}</span>
          </div>
        `)
                            .join("");

                        examDescription.classList.remove("hidden");
                    } else {
                        examDescription.classList.add("hidden");
                    }
                });
        });

</script>

<script>
    (function () {
        // --- Elements
        const dropdown = document.getElementById('dtpDropdown');
        const trigger = document.getElementById('dtpTrigger');
        const card = document.getElementById('dtpCard');

        const monthEl = document.getElementById('dtpMonth');
        const daysEl = document.getElementById('dtpDays');
        const prevBtn = document.getElementById('dtpPrev');
        const nextBtn = document.getElementById('dtpNext');

        const clearBtn = document.getElementById('dtpClear');
        const todayBtn = document.getElementById('dtpToday');

        const selectedEl = document.getElementById('dtpSelectedDate');
        const timesEl = document.getElementById('dtpTimes');

        const hiddenDate = document.getElementById('dtpHiddenDate');
        const hiddenTime = document.getElementById('dtpHiddenTime');

        const formatRadios = dropdown.querySelectorAll('input[name="dtpFormat"]');

        // --- State
        let viewDate = new Date();     // which month we're looking at
        let selectedDate = null;       // JS Date object
        let selectedMinutes = null;    // minutes from midnight (kept stable when toggling format)

        // Configure allowed dates per YYYY-MM (example data)
        // e.g. "2025-07": [5,12,18,23]
        const ALLOWED = {};
        const pad = n => String(n).padStart(2, '0');

        // Example: allow a few dates in current & next month
        (function seedAllowed() {
            const now = new Date();
            const y = now.getFullYear();
            const m = now.getMonth();
            const keyThis = `${y}-${pad(m + 1)}`;
            const keyNext = `${m === 11 ? y + 1 : y}-${pad(m === 11 ? 1 : m + 2)}`;
            ALLOWED[keyThis] = [5, 12, 18, 23, 27];
            ALLOWED[keyNext] = [3, 10, 17, 24];
        })();

        // Time slots (minutes from midnight)
        const BASE_SLOTS = [540, 600, 660, 720, 780, 840, 900]; // 9:00 .. 15:00 every 1h

        // --- Helpers
        const monthLabel = (d) =>
            d.toLocaleString('en-US', { month: 'long', year: 'numeric' });

        const weekdayMonFirst = (jsDay) => (jsDay === 0 ? 6 : jsDay - 1); // 0=Sun -> 6

        function formatTime(mins, fmt) {
            const h24 = Math.floor(mins / 60);
            const mm = mins % 60;
            if (fmt === '24') {
                return `${String(h24).padStart(2, '0')}:${String(mm).padStart(2, '0')}`;
            } else {
                const h12 = ((h24 + 11) % 12) + 1;
                const ampm = h24 >= 12 ? 'PM' : 'AM';
                return `${h12}:${String(mm).padStart(2, '0')} ${ampm}`;
            }
        }

        function toISODate(d) {
            return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}`;
        }

        function formatTrigger(d, mins) {
            const dateStr = d ? d.toLocaleDateString('en-US') : 'mm/dd/yy';
            if (d && mins != null) {
                const fmt = dropdown.querySelector('input[name="dtpFormat"]:checked').value;
                return `${dateStr} at ${formatTime(mins, fmt)} ▾`;
            }
            return `${dateStr} — select ▾`;
        }

        // --- Render calendar month
        function renderCalendar() {
            // header
            monthEl.textContent = monthLabel(viewDate);
            daysEl.innerHTML = '';

            const y = viewDate.getFullYear();
            const m = viewDate.getMonth();
            const first = new Date(y, m, 1);
            const lastDate = new Date(y, m + 1, 0).getDate();
            const offset = weekdayMonFirst(first.getDay());

            // pad leading blanks
            for (let i = 0; i < offset; i++) daysEl.appendChild(document.createElement('div'));

            const key = `${y}-${pad(m + 1)}`;
            const allowed = new Set(ALLOWED[key] || []);

            for (let day = 1; day <= lastDate; day++) {
                const cell = document.createElement('div');
                cell.textContent = day;

                if (allowed.has(day)) {
                    cell.className = 'dtp-day-available';
                    cell.addEventListener('click', (e) => {
                        e.preventDefault(); e.stopPropagation();

                        // clear previous selection
                        daysEl.querySelectorAll('.dtp-day-available').forEach(d => d.classList.remove('dtp-day-selected'));
                        cell.classList.add('dtp-day-selected');

                        selectedDate = new Date(y, m, day);
                        selectedEl.textContent = selectedDate.toLocaleDateString('en-US', { weekday: 'short', month: 'long', day: 'numeric' });
                        hiddenDate.value = toISODate(selectedDate);
                        // when date changes, clear time selection
                        selectedMinutes = null;
                        hiddenTime.value = '';
                        renderTimes(); // show slots
                    });
                } else {
                    cell.className = 'dtp-day-disabled';
                }

                // re-highlight if this is the selected date
                if (selectedDate && selectedDate.getFullYear() === y && selectedDate.getMonth() === m && selectedDate.getDate() === day) {
                    if (allowed.has(day)) cell.classList.add('dtp-day-selected');
                }

                daysEl.appendChild(cell);
            }
        }

        // --- Render times based on format + selected date
        function renderTimes() {
            timesEl.innerHTML = '';
            if (!selectedDate) { return; } // no times until a date is chosen

            const fmt = dropdown.querySelector('input[name="dtpFormat"]:checked').value;

            BASE_SLOTS.forEach(mins => {
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.className = 'dtp-time';
                btn.textContent = formatTime(mins, fmt);

                // keep active if previously chosen
                if (selectedMinutes === mins) btn.classList.add('dtp-active');

                btn.addEventListener('click', (e) => {
                    e.preventDefault(); e.stopPropagation();
                    selectedMinutes = mins;

                    // set active
                    timesEl.querySelectorAll('.dtp-time').forEach(b => b.classList.remove('dtp-active'));
                    btn.classList.add('dtp-active');

                    // update hidden time in 24h for backend consistency
                    hiddenTime.value = formatTime(mins, '24');

                    // update trigger text & close card
                    trigger.textContent = formatTrigger(selectedDate, selectedMinutes);
                    closeCard();
                });

                timesEl.appendChild(btn);
            });
        }

        // --- Open / Close
        function openCard() {
            card.classList.add('dtp-open');
            card.setAttribute('aria-hidden', 'false');
        }
        function closeCard() {
            card.classList.remove('dtp-open');
            card.setAttribute('aria-hidden', 'true');
        }

        // --- Events
        trigger.addEventListener('click', (e) => {
            e.preventDefault(); e.stopPropagation();
            card.classList.contains('dtp-open') ? closeCard() : openCard();
        });

        // Prevent clicks inside from closing or submitting form
        card.addEventListener('click', (e) => { e.stopPropagation(); });

        // Outside click closes
        document.addEventListener('click', () => {
            if (card.classList.contains('dtp-open')) closeCard();
        });

        // Esc closes
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeCard();
        });

        // Month navigation
        prevBtn.addEventListener('click', (e) => {
            e.preventDefault(); e.stopPropagation();
            viewDate.setMonth(viewDate.getMonth() - 1);
            renderCalendar();
        });
        nextBtn.addEventListener('click', (e) => {
            e.preventDefault(); e.stopPropagation();
            viewDate.setMonth(viewDate.getMonth() + 1);
            renderCalendar();
        });

        // Clear
        clearBtn.addEventListener('click', (e) => {
            e.preventDefault(); e.stopPropagation();
            selectedDate = null;
            selectedMinutes = null;
            hiddenDate.value = '';
            hiddenTime.value = '';
            selectedEl.textContent = 'No date selected';
            trigger.textContent = 'mm/dd/yy — select ▾';
            renderCalendar();
            timesEl.innerHTML = '';
        });

        // Today
        todayBtn.addEventListener('click', (e) => {
            e.preventDefault(); e.stopPropagation();
            const now = new Date();
            viewDate = new Date(now.getFullYear(), now.getMonth(), 1);
            renderCalendar();
            // If today is allowed, preselect it
            const key = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;
            const allowed = new Set(ALLOWED[key] || []);
            if (allowed.has(now.getDate())) {
                selectedDate = new Date(now.getFullYear(), now.getMonth(), now.getDate());
                hiddenDate.value = toISODate(selectedDate);
                selectedEl.textContent = selectedDate.toLocaleDateString('en-US', { weekday: 'short', month: 'long', day: 'numeric' });
                // highlight selected
                const idx = [...daysEl.children].findIndex(d => d.textContent == now.getDate());
                if (idx > -1) daysEl.children[idx].classList.add('dtp-day-selected');
                renderTimes();
            }
        });

        // Toggle 12/24h — re-render labels, keep same minute value
        formatRadios.forEach(r => {
            r.addEventListener('change', (e) => {
                e.stopPropagation();
                renderTimes();
                // also refresh trigger text if we already picked a time
                trigger.textContent = formatTrigger(selectedDate, selectedMinutes);
            });
        });

        // Initial paint
        renderCalendar();
    })();
</script>
<footer class="footer">
        <div class="footer-container">
            <!-- column 1: logo + about + social  -->
            <div class="footer-col footer-about">
                <img src="/Palak/images/Home/footer/logo2.png" alt="StudyBefikar Logo" class="footer-logo">
                <p>Your trusted partner for international education counseling since 2010. We've helped over 10,000 students
                    achieve their academic dreams abroad.</p>
                <div class="footer-socials">
                    <a href="#"><img src="/Palak/images/Home/footer/9.png" alt="Instagram"></a>
                    <a href="#"><img src="/Palak/images/Home/footer/10.png" alt="Facebook"></a>
                    <a href="#"><img src="/Palak/images/Home/footer/11.png" alt="LinkedIn"></a>
                    <a href="#"><img src="/Palak/images/Home/footer/12.png" alt="X"></a>
                </div>
            </div>
            <div class="footer-right-columns">
    
            <!-- column 2: services -->
            <div class="footer-col">
                <h4>Our Services</h4>
                <ul>
                    <li><a href="/Palak/Admission_counselling/admit.html">Admission Counselling</a></li>
                    <li><a href="#">University Selection</a></li>
                    <li><a href="#">Visa Processing</a></li>
                    <li><a href="#">Scholarship Assistance</a></li>
                    <li><a href="/Palak/Loan/loanHome.html">Education Loans</a></li>
                    <li><a href="/Palak/Test_Prep/testPreparationQuestionnaire/step1.html">Test Preparation</a></li>
                    <li><a href="/Palak/Admission_counselling/profileEvaluationQuestionnaire/stepOne.html">Profile Evaluation</a></li>
                    <li><a href="#">Application Assistance</a></li>
                    <li><a href="#">University Shortlisting</a></li>
                </ul>
            </div>
    
            <!-- column 3-->
            <div class="footer-col">
                <h4>Study Destinations</h4>
                <ul>
                    <li><a href="/Palak/USA/usa.html">USA</a></li>
                <li><a href="/Palak/USA/uk.html">UK</a></li>
                <li><a href="/Palak/USA/canada.html">Canada</a></li>
                <li><a href="/Palak/USA/australia.html">Australia</a></li>
                <li><a href="/Palak/USA/germany.html">Germany</a></li>
                <li><a href="/Palak/USA/Ireland.html">Ireland</a></li>
                <li><a href="/Palak/USA/France.html">France</a></li>
                <li><a href="/Palak/USA/newzealand.html">New Zealand</a></li>
                <li><a href="/Palak/USA/Singapore.html">Singapore</a></li>
                <li><a href="/Palak/USA/Japan.html">Japan</a></li>
                <li><a href="/Palak/USA/Dubai.html">Dubai</a></li>
                <li><a href="/Palak/USA/China.html">China</a></li>
                </ul>
            </div>
    
            <!-- column 4: contact -->
            <div class="footer-col contact-col">
                <h4>Contact Us</h4>
                <p>Dropbox@studybefikar.com</p>
                <p>+91 74259 34504</p>
                <p>+1 (555) 123-4567</p>
    
                <h4>Office Hours</h4>
                <p>Mon - Fri: 9:00 AM - 6:00 PM</p>
                <p>Sat: 10:00 AM - 4:00 PM</p>

                <h4>More Details</h4>
                <p>Vendor Login</p>
                <p>T&C</p>
            </div>
            
        </div>
        </div>
    
        <hr class="footer-line" />
        <p class="footer-bottom">
            © 2025 StudyBefikar. All rights reserved. | Privacy Policy | Terms of Service
        </p>
    </footer>
</body>

</html>